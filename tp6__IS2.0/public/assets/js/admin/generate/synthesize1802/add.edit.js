
$(document).ready(function() {

    var url = location.search; //获取url中"?"符后的字串
    url=decodeURI(url);
    var theRequest = new Object();
    if (url.indexOf("?") != -1) {
        var str = url.substr(1);
        strs = str.split("&");
        for(var i = 0; i < strs.length; i ++) {
            theRequest[strs[i].split("=")[0]]=unescape(strs[i].split("=")[1]);
        }
    }
    var target=theRequest.id;
    if(target != -1){
        $.ajax({
            type : "POST",
            contentType : "application/x-www-form-urlencoded",
            url : "/admin/Synthesize1802/retrieveData",
            data : {
                key:'id',
                value:target
            },
            success : function(res) {
                $('#id').val(res.result[0]['id']);$('#name').val(res.result[0]['name']);$('#student_id').val(res.result[0]['student_id']);$('#situation').val(res.result[0]['situation']);$('#message').val(res.result[0]['message']);$('#zc2018510431').val(res.result[0]['zc2018510431']);$('#zc2018510432').val(res.result[0]['zc2018510432']);$('#zc2018510436').val(res.result[0]['zc2018510436']);$('#zc2018510439').val(res.result[0]['zc2018510439']);$('#zc2018510444').val(res.result[0]['zc2018510444']);$('#zc2018510453').val(res.result[0]['zc2018510453']);$('#zc2018510462').val(res.result[0]['zc2018510462']);$('#zc2018510464').val(res.result[0]['zc2018510464']);$('#zc2018510475').val(res.result[0]['zc2018510475']);$('#zc2018510481').val(res.result[0]['zc2018510481']);$('#zc2018510482').val(res.result[0]['zc2018510482']);$('#zc2018510488').val(res.result[0]['zc2018510488']);$('#zc2018510489').val(res.result[0]['zc2018510489']);$('#zc2018510495').val(res.result[0]['zc2018510495']);$('#zc2018510500').val(res.result[0]['zc2018510500']);$('#zc2018510504').val(res.result[0]['zc2018510504']);$('#zc2018510510').val(res.result[0]['zc2018510510']);$('#zc2018510513').val(res.result[0]['zc2018510513']);$('#zc2018510531').val(res.result[0]['zc2018510531']);$('#zc2018510533').val(res.result[0]['zc2018510533']);$('#zc2018510535').val(res.result[0]['zc2018510535']);$('#zc2018510540').val(res.result[0]['zc2018510540']);$('#zc2018510542').val(res.result[0]['zc2018510542']);$('#zc2018510546').val(res.result[0]['zc2018510546']);$('#zc2018510553').val(res.result[0]['zc2018510553']);$('#zc2018510554').val(res.result[0]['zc2018510554']);$('#zc2018510559').val(res.result[0]['zc2018510559']);$('#zc2018510560').val(res.result[0]['zc2018510560']);$('#zc2018510563').val(res.result[0]['zc2018510563']);$('#zc2018510566').val(res.result[0]['zc2018510566']);$('#zc2018510584').val(res.result[0]['zc2018510584']);$('#zc2018510589').val(res.result[0]['zc2018510589']);$('#zc2018510590').val(res.result[0]['zc2018510590']);$('#zc2018510595').val(res.result[0]['zc2018510595']);$('#zc2018510597').val(res.result[0]['zc2018510597']);$('#zc2018510605').val(res.result[0]['zc2018510605']);$('#zc2018510606').val(res.result[0]['zc2018510606']);$('#zc2018510613').val(res.result[0]['zc2018510613']);$('#zc2018510615').val(res.result[0]['zc2018510615']);$('#zc2018510617').val(res.result[0]['zc2018510617']);$('#zc2018510622').val(res.result[0]['zc2018510622']);$('#zc2018510651').val(res.result[0]['zc2018510651']);$('#zc2018510659').val(res.result[0]['zc2018510659']);$('#zc2018510660').val(res.result[0]['zc2018510660']);$('#zc2018510669').val(res.result[0]['zc2018510669']);$('#zc2018510676').val(res.result[0]['zc2018510676']);$('#zc2018510684').val(res.result[0]['zc2018510684']);$('#zc2018510686').val(res.result[0]['zc2018510686']);$('#zc2018510699').val(res.result[0]['zc2018510699']);$('#zc2018510716').val(res.result[0]['zc2018510716']);$('#zc2018510720').val(res.result[0]['zc2018510720']);$('#zc2018510724').val(res.result[0]['zc2018510724']);$('#zc2018510726').val(res.result[0]['zc2018510726']);$('#zc2018510727').val(res.result[0]['zc2018510727']);$('#zc2018510730').val(res.result[0]['zc2018510730']);$('#zc2018510731').val(res.result[0]['zc2018510731']);$('#zc2018510739').val(res.result[0]['zc2018510739']);$('#zc2018510740').val(res.result[0]['zc2018510740']);$('#zc2018510744').val(res.result[0]['zc2018510744']);$('#zc2018510745').val(res.result[0]['zc2018510745']);$('#zc2018510748').val(res.result[0]['zc2018510748']);$('#zc2018510750').val(res.result[0]['zc2018510750']);$('#zc2018512964').val(res.result[0]['zc2018512964']);$('#final').val(res.result[0]['final']);
            }
        });
    
        $("#commit").click(function() {
            var id = $('#id').val();var name = $('#name').val();var student_id = $('#student_id').val();var situation = $('#situation').val();var message = $('#message').val();var zc2018510431 = $('#zc2018510431').val();var zc2018510432 = $('#zc2018510432').val();var zc2018510436 = $('#zc2018510436').val();var zc2018510439 = $('#zc2018510439').val();var zc2018510444 = $('#zc2018510444').val();var zc2018510453 = $('#zc2018510453').val();var zc2018510462 = $('#zc2018510462').val();var zc2018510464 = $('#zc2018510464').val();var zc2018510475 = $('#zc2018510475').val();var zc2018510481 = $('#zc2018510481').val();var zc2018510482 = $('#zc2018510482').val();var zc2018510488 = $('#zc2018510488').val();var zc2018510489 = $('#zc2018510489').val();var zc2018510495 = $('#zc2018510495').val();var zc2018510500 = $('#zc2018510500').val();var zc2018510504 = $('#zc2018510504').val();var zc2018510510 = $('#zc2018510510').val();var zc2018510513 = $('#zc2018510513').val();var zc2018510531 = $('#zc2018510531').val();var zc2018510533 = $('#zc2018510533').val();var zc2018510535 = $('#zc2018510535').val();var zc2018510540 = $('#zc2018510540').val();var zc2018510542 = $('#zc2018510542').val();var zc2018510546 = $('#zc2018510546').val();var zc2018510553 = $('#zc2018510553').val();var zc2018510554 = $('#zc2018510554').val();var zc2018510559 = $('#zc2018510559').val();var zc2018510560 = $('#zc2018510560').val();var zc2018510563 = $('#zc2018510563').val();var zc2018510566 = $('#zc2018510566').val();var zc2018510584 = $('#zc2018510584').val();var zc2018510589 = $('#zc2018510589').val();var zc2018510590 = $('#zc2018510590').val();var zc2018510595 = $('#zc2018510595').val();var zc2018510597 = $('#zc2018510597').val();var zc2018510605 = $('#zc2018510605').val();var zc2018510606 = $('#zc2018510606').val();var zc2018510613 = $('#zc2018510613').val();var zc2018510615 = $('#zc2018510615').val();var zc2018510617 = $('#zc2018510617').val();var zc2018510622 = $('#zc2018510622').val();var zc2018510651 = $('#zc2018510651').val();var zc2018510659 = $('#zc2018510659').val();var zc2018510660 = $('#zc2018510660').val();var zc2018510669 = $('#zc2018510669').val();var zc2018510676 = $('#zc2018510676').val();var zc2018510684 = $('#zc2018510684').val();var zc2018510686 = $('#zc2018510686').val();var zc2018510699 = $('#zc2018510699').val();var zc2018510716 = $('#zc2018510716').val();var zc2018510720 = $('#zc2018510720').val();var zc2018510724 = $('#zc2018510724').val();var zc2018510726 = $('#zc2018510726').val();var zc2018510727 = $('#zc2018510727').val();var zc2018510730 = $('#zc2018510730').val();var zc2018510731 = $('#zc2018510731').val();var zc2018510739 = $('#zc2018510739').val();var zc2018510740 = $('#zc2018510740').val();var zc2018510744 = $('#zc2018510744').val();var zc2018510745 = $('#zc2018510745').val();var zc2018510748 = $('#zc2018510748').val();var zc2018510750 = $('#zc2018510750').val();var zc2018512964 = $('#zc2018512964').val();var final = $('#final').val();

            $.ajax({
                type : "POST",
                contentType: "application/x-www-form-urlencoded",
                url : "/admin/Synthesize1802/updateData",
                data : {
                    target:target,
                    id:id,name:name,student_id:student_id,situation:situation,message:message,zc2018510431:zc2018510431,zc2018510432:zc2018510432,zc2018510436:zc2018510436,zc2018510439:zc2018510439,zc2018510444:zc2018510444,zc2018510453:zc2018510453,zc2018510462:zc2018510462,zc2018510464:zc2018510464,zc2018510475:zc2018510475,zc2018510481:zc2018510481,zc2018510482:zc2018510482,zc2018510488:zc2018510488,zc2018510489:zc2018510489,zc2018510495:zc2018510495,zc2018510500:zc2018510500,zc2018510504:zc2018510504,zc2018510510:zc2018510510,zc2018510513:zc2018510513,zc2018510531:zc2018510531,zc2018510533:zc2018510533,zc2018510535:zc2018510535,zc2018510540:zc2018510540,zc2018510542:zc2018510542,zc2018510546:zc2018510546,zc2018510553:zc2018510553,zc2018510554:zc2018510554,zc2018510559:zc2018510559,zc2018510560:zc2018510560,zc2018510563:zc2018510563,zc2018510566:zc2018510566,zc2018510584:zc2018510584,zc2018510589:zc2018510589,zc2018510590:zc2018510590,zc2018510595:zc2018510595,zc2018510597:zc2018510597,zc2018510605:zc2018510605,zc2018510606:zc2018510606,zc2018510613:zc2018510613,zc2018510615:zc2018510615,zc2018510617:zc2018510617,zc2018510622:zc2018510622,zc2018510651:zc2018510651,zc2018510659:zc2018510659,zc2018510660:zc2018510660,zc2018510669:zc2018510669,zc2018510676:zc2018510676,zc2018510684:zc2018510684,zc2018510686:zc2018510686,zc2018510699:zc2018510699,zc2018510716:zc2018510716,zc2018510720:zc2018510720,zc2018510724:zc2018510724,zc2018510726:zc2018510726,zc2018510727:zc2018510727,zc2018510730:zc2018510730,zc2018510731:zc2018510731,zc2018510739:zc2018510739,zc2018510740:zc2018510740,zc2018510744:zc2018510744,zc2018510745:zc2018510745,zc2018510748:zc2018510748,zc2018510750:zc2018510750,zc2018512964:zc2018512964,final:final
                },
                success : function(res) {
                    if(res.status == 200){
                        window.parent.location.reload();
                    }
                }
            });
        })
    }
    if(target == -1){
        $("#commit").click(function() {
            var id = $('#id').val();var name = $('#name').val();var student_id = $('#student_id').val();var situation = $('#situation').val();var message = $('#message').val();var zc2018510431 = $('#zc2018510431').val();var zc2018510432 = $('#zc2018510432').val();var zc2018510436 = $('#zc2018510436').val();var zc2018510439 = $('#zc2018510439').val();var zc2018510444 = $('#zc2018510444').val();var zc2018510453 = $('#zc2018510453').val();var zc2018510462 = $('#zc2018510462').val();var zc2018510464 = $('#zc2018510464').val();var zc2018510475 = $('#zc2018510475').val();var zc2018510481 = $('#zc2018510481').val();var zc2018510482 = $('#zc2018510482').val();var zc2018510488 = $('#zc2018510488').val();var zc2018510489 = $('#zc2018510489').val();var zc2018510495 = $('#zc2018510495').val();var zc2018510500 = $('#zc2018510500').val();var zc2018510504 = $('#zc2018510504').val();var zc2018510510 = $('#zc2018510510').val();var zc2018510513 = $('#zc2018510513').val();var zc2018510531 = $('#zc2018510531').val();var zc2018510533 = $('#zc2018510533').val();var zc2018510535 = $('#zc2018510535').val();var zc2018510540 = $('#zc2018510540').val();var zc2018510542 = $('#zc2018510542').val();var zc2018510546 = $('#zc2018510546').val();var zc2018510553 = $('#zc2018510553').val();var zc2018510554 = $('#zc2018510554').val();var zc2018510559 = $('#zc2018510559').val();var zc2018510560 = $('#zc2018510560').val();var zc2018510563 = $('#zc2018510563').val();var zc2018510566 = $('#zc2018510566').val();var zc2018510584 = $('#zc2018510584').val();var zc2018510589 = $('#zc2018510589').val();var zc2018510590 = $('#zc2018510590').val();var zc2018510595 = $('#zc2018510595').val();var zc2018510597 = $('#zc2018510597').val();var zc2018510605 = $('#zc2018510605').val();var zc2018510606 = $('#zc2018510606').val();var zc2018510613 = $('#zc2018510613').val();var zc2018510615 = $('#zc2018510615').val();var zc2018510617 = $('#zc2018510617').val();var zc2018510622 = $('#zc2018510622').val();var zc2018510651 = $('#zc2018510651').val();var zc2018510659 = $('#zc2018510659').val();var zc2018510660 = $('#zc2018510660').val();var zc2018510669 = $('#zc2018510669').val();var zc2018510676 = $('#zc2018510676').val();var zc2018510684 = $('#zc2018510684').val();var zc2018510686 = $('#zc2018510686').val();var zc2018510699 = $('#zc2018510699').val();var zc2018510716 = $('#zc2018510716').val();var zc2018510720 = $('#zc2018510720').val();var zc2018510724 = $('#zc2018510724').val();var zc2018510726 = $('#zc2018510726').val();var zc2018510727 = $('#zc2018510727').val();var zc2018510730 = $('#zc2018510730').val();var zc2018510731 = $('#zc2018510731').val();var zc2018510739 = $('#zc2018510739').val();var zc2018510740 = $('#zc2018510740').val();var zc2018510744 = $('#zc2018510744').val();var zc2018510745 = $('#zc2018510745').val();var zc2018510748 = $('#zc2018510748').val();var zc2018510750 = $('#zc2018510750').val();var zc2018512964 = $('#zc2018512964').val();var final = $('#final').val();
            $.ajax({
                type : "POST",
                contentType: "application/x-www-form-urlencoded",
                url : "/admin/Synthesize1802/createData",
                data : {
                    id:id,name:name,student_id:student_id,situation:situation,message:message,zc2018510431:zc2018510431,zc2018510432:zc2018510432,zc2018510436:zc2018510436,zc2018510439:zc2018510439,zc2018510444:zc2018510444,zc2018510453:zc2018510453,zc2018510462:zc2018510462,zc2018510464:zc2018510464,zc2018510475:zc2018510475,zc2018510481:zc2018510481,zc2018510482:zc2018510482,zc2018510488:zc2018510488,zc2018510489:zc2018510489,zc2018510495:zc2018510495,zc2018510500:zc2018510500,zc2018510504:zc2018510504,zc2018510510:zc2018510510,zc2018510513:zc2018510513,zc2018510531:zc2018510531,zc2018510533:zc2018510533,zc2018510535:zc2018510535,zc2018510540:zc2018510540,zc2018510542:zc2018510542,zc2018510546:zc2018510546,zc2018510553:zc2018510553,zc2018510554:zc2018510554,zc2018510559:zc2018510559,zc2018510560:zc2018510560,zc2018510563:zc2018510563,zc2018510566:zc2018510566,zc2018510584:zc2018510584,zc2018510589:zc2018510589,zc2018510590:zc2018510590,zc2018510595:zc2018510595,zc2018510597:zc2018510597,zc2018510605:zc2018510605,zc2018510606:zc2018510606,zc2018510613:zc2018510613,zc2018510615:zc2018510615,zc2018510617:zc2018510617,zc2018510622:zc2018510622,zc2018510651:zc2018510651,zc2018510659:zc2018510659,zc2018510660:zc2018510660,zc2018510669:zc2018510669,zc2018510676:zc2018510676,zc2018510684:zc2018510684,zc2018510686:zc2018510686,zc2018510699:zc2018510699,zc2018510716:zc2018510716,zc2018510720:zc2018510720,zc2018510724:zc2018510724,zc2018510726:zc2018510726,zc2018510727:zc2018510727,zc2018510730:zc2018510730,zc2018510731:zc2018510731,zc2018510739:zc2018510739,zc2018510740:zc2018510740,zc2018510744:zc2018510744,zc2018510745:zc2018510745,zc2018510748:zc2018510748,zc2018510750:zc2018510750,zc2018512964:zc2018512964,final:final
                },
                success : function(res) {
                    if(res.status == 200){
                        window.parent.location.reload();
                    }
                }
            });
        })
    }
})

